
10
Styling React
How to style React components, and React user interfaces in general, can be a polarizing topic.
There are many ways to handle style in React, and you’re likely to see several of them used side-
by- side on most React projects.
In this chapter, you’ll learn:
➤➤ How to include and use CSS files in React.
➤➤ How to write inline styles in React.
➤➤ How to use CSS Modules.
➤➤ How to use CSS- in- JS.
THE IMPORTANCE OF STYLES
Style in web applications determines how individual elements look, including typefaces, weight
of text, colors, backgrounds, width, and height, for example. It also determines how elements
relate to each other and to the HTML document or browser window— their borders, margins,
alignment, and position. Certain CSS styles create animations. Still others affect how elements
behave and how they look when they’re in different states, such as hovered over, clicked,
focused, and so on.
Even if you don’t add any style at all to your user interface, it’s still affected by the browser’s
default styles, which are rarely ideal. Styles also determine how your user interface will look
on different sized devices, when printed, and even how it will sound when read by a text- to-
speech reader.
With styles determining so much of what the end user’s experience with your application will
be, it’s essential for a developer or a development team to give more than a little thought to how
style will be managed and implemented in a user interface.
244 ❘ CHAPTER 10 Styling React
Because React is just JavaScript and because everything in your React user interface will start its life
as JavaScript, you have more options for how to implement style with React than if you were devel-
oping an application using plain old HTML and CSS files.
Using ordinary CSS with React is an option, however, and it’s the option that we’ll talk about first.
IMPORTING CSS INTO THE HTML FILE
The most basic way to style a React user interface is by importing one or more CSS files into the
HTML file that loads React. This can be done as simply as by opening up index.html, which lives
in the public folder in a Create React App project, and adding an HTML link element between the
<head> and </head> tags, as shown in Listing 10-1.
LISTING 10- 1: Adding an HTML link to the HTML file
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf- 8" />
<link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
<meta name="viewport" content="width=device-w idth, initial- scale=1" />
<meta name="theme- color" content="#000000" />
<meta
name="description"
content="Web site created using create-r eact- app" />
<link rel="stylesheet" href="%PUBLIC_URL%/css/style.css" />
<link rel="apple- touch- icon" href="%PUBLIC_URL%/logo192.png" />
<link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
</head>
<body>
<noscript>You need to enable JavaScript to run this app.</noscript>
<div id="root"></div>
</body>
</html>
In Create React App projects, the index.html file is a template, which gets compiled when you run
npm start or npm run build. Variables in the template are surrounded by the % character. So, in the
CSS link added in Listing 10-1, the %PUBLIC_URL% variable will be replaced with the actual URL
where the application is being served.
To use this method of styling React, just put a CSS file in the right place inside the public directory or
point the link to an external URL (such as a hosted stylesheet or a stylesheet library like Bootstrap).
This method of styling React is useful for providing an overall style to the user interface, or a theme.
However, it should be used carefully, since the styles included in the HTML file will affect every
Using Plain Old CSS in Components ❘ 245
component in your application, and it’s easy to accidentally cause problems lower in the component
tree or create unnecessary complexity by adding styles at this level.
USING PLAIN OLD CSS IN COMPONENTS
Create React App has built into it the ability to load and bundle ordinary CSS files into your user
interface. If you’re familiar with CSS and how to use CSS selectors to apply style to elements, classes,
and IDs, you’ll find using CSS in React comfortable and familiar. Listing 10-2 shows how to include a
CSS file into a React component and then use the CSS classes.
LISTING 10- 2: Including CSS in a component
import "styles.css";
function ArticleLink(props){
return (
<div className="article- link">
<h1 className="title">{props.title}</h1>
<p className="firstPara">{props.firstPararaph}</p>
<p><a className="articleLink" href={props.link}>read more</a></p>
</div>
);
}
export default ArticleLink;
Importing a stylesheet into a React component has the benefit of being a familiar way to work, and it
also allows you to use existing stylesheets that you may have.
As with importing styles into the HTML file, CSS imported into the components cascades to the
component’s children. For example, Listing 10-3 shows a stylesheet, a parent component, and a child
component rendered by the parent component. The styles are imported into the parent component,
but the class and element styles defined in the stylesheet are only used in the child.
LISTING 10- 3: Cascading styles in components
/* style.css */
p {
font- size: 80px;
}
.red {
color: red;
}
continues
246 ❘ CHAPTER 10 Styling React
LISTING 10-3 (continued)
// StyledParent.js
import StyledChild from './StyledChild';
import './style.css';
function StyledParent(props){
return (<StyledChild />)
}
export default StyledParent;
// StyledChild.js
function StyledChild(props){
return (<p className="red">This is testing whether styles cascade.</p>)
}
export default StyledChild;
The result of rendering StyledParent in your browser is shown in Figure 10-1.
FIGURE 10- 1: Cascading styles from parent to child
This trickling down of styles from parent elements to child elements and the complex series of steps
that a browser goes through to determine the priority of different styles is the way that CSS was
Writing Inline Styles ❘ 247
designed. It can often be useful to be able to apply styles to a tree of elements and to make use of the
CSS cascade to apply styles, but more often it creates confusion and results in components that have
access to far more styles than they actually use.
One way to tame CSS is to only use the class selector. This is an approach used by many CSS librar-
ies, including Bootstrap. By only applying styles using the class selector (which is created using the
“.” symbol in CSS stylesheets and matches the value of the className attribute in JSX) you elimi-
nate the problem of styles that are applied to IDs overriding styles that are applied to classes, and
styles applied to elements overriding classes and IDs, and styles marked as !important overriding
everything.
But, no matter what you do, CSS is not a programming language, and it doesn’t have scope as
programmers understand it or many of the conveniences of programming languages. This is why
many developers who use CSS directly in their components or HTML file use a CSS preprocessor,
such as SASS.
NOTE A discussion of CSS preprocessors is beyond the scope of this book,
but if you want to learn more, visit sass- lang.com/.
However, React has built into it another way to style components that gives you all of the capabilities
of a CSS preprocessor, without having to learn the language used by the CSS preprocessor: you can
simply use JavaScript to apply style to components.
WRITING INLINE STYLES
React’s built-i n DOM elements have a style attribute that accepts a style object as its value. When
you pass DOM style properties into this attribute, those properties will be applied to the resulting
HTML element.
To demonstrate a basic use of the style attribute, Listing 10-4 shows a React component that
returns a styled paragraph of text.
LISTING 10- 4: Using inline styles in React
function WarningMessage(props){
return (
<p style={{color:"red",padding:"6px",backgroundColor:"#000000"}}>
{props.warningMessage}
</p>
)
}
export default WarningMessage;
248 ❘ CHAPTER 10 Styling React
In this example, notice that the style object, which is written as an object literal (using curly brack-
ets) must itself be surrounded by curly brackets to indicate that it’s to be treated as literal JavaScript
rather than JSX, which is why there are double curly brackets around the style properties.
JavaScript Style Syntax
The properties that you can access and manipulate using JavaScript mirror the CSS properties, and
you can do anything using JavaScript styles that you can do with CSS. Because of the differences
between JavaScript and CSS, however, JavaScript styles are written differently.
The first difference is that a CSS rule- set does not follow the rules of JavaScript object literals,
although it does resemble one. In particular, CSS style rules don’t have quotes around the values,
while in JavaScript style objects, quotes are required around strings.
The second difference between CSS rule- sets and JavaScript objects is that the individual rules in CSS
are separated by semicolons, while in JavaScript objects, properties are separated by commas.
The third difference is that CSS property names containing more than one word have hyphens
between the words. In JavaScript, this would result in an error, so JavaScript style properties use
camelCase for multi-w ord names.
Finally, CSS has the concept of selectors, which is how styles can be selectively applied to only certain
elements. A rule-s et attached to a class selector (which is indicated by a . before the name of the rule-
set) will apply to elements that have that class (or className in JSX).
In JavaScript, style objects that aren’t inline styles must be assigned to a variable and that variable can
be used as the value of a DOM element’s style attribute.
Listing 10-5 shows a CSS rule- set, followed by the JavaScript style object that accomplishes the
same thing.
LISTING 10- 5: CSS rule- sets vs. JavaScript style objects
/* CSS rule- set */
.headingStyle{
background- color: #999999;
color: #eee;
border: 1px solid black;
border- radius: 4px;
width: 50%;
}
//JavaScript style object
const headingStyle = {
backgroundColor: '#999999',
color: '#eee',
border: '1px solid black',
borderRadius: '4px',
width: '50%'
};
Writing Inline Styles ❘ 249
Why to Use Inline Styles
Inline styles make it easy to see how a component will be styled. If you’re only applying a couple of
style properties to an element, and you’re not going to reuse that particular combination of properties
in another component, writing them as inline styles is easy and fast. Using inline styles also increases
the portability of a component, since the styles are part of the component file and don’t rely on an
external module being present.
Why Not to Use Inline Styles
In a React application with many different components, using inline styles can become a mainte-
nance nightmare. It’s simply a good user interface design practice to reuse certain styles, including
how headings are styled, colors and sizes of buttons, sizes and typefaces of different types of text,
and so forth.
If you were to write the same style object, containing the same style properties, each time you styled a
block of text, you’d soon come to the realization that writing inline style objects is a waste of effort.
At that point, logically, the thing to do is to create variables to store your style objects.
Improving Inline Styles with Style Modules
Rather than writing your style objects directly in the style attribute of each element, you can create
variables to hold the styles, as shown in Listing 10-6.
LISTING 10- 6: Using variables to hold style objects
function WarningMessage(props){
const warningStyle = {color:"red",padding:"6px",backgroundColor:"#000000"};
return (
<p style={warningStyle}>
{props.warningMessage}
</p>
)
}
export default WarningMessage;
Variables created to hold style objects can be kept inside the component, as shown in Listing 10-6, or
you can put them into separate files and export them using either named exports (if you want to cre-
ate a style library containing the styles for multiple components) or a default export.
Listing 10-7 shows an example of a style object library containing styles for multiple different
components.
250 ❘ CHAPTER 10 Styling React
LISTING 10- 7: A style object library
export const warningStyle = {color:"red",padding:"6px",backgroundColor:"#000000"};
export const infoStyle = {color:"yellow",padding:"6px",backgroundColor:"#000000"};
export const successStyle = {color:"green",padding:"6px",backgroundColor:"#000000"};
Ignoring how ugly these styles will actually look in reality, they could be saved in a file called
messageStyles.js and then imported individually or as a group into each component that needs to
display a message.
Listing 10-8 shows how to import an entire style object library into a component that will display
text in a different style, depending on the type of message passed into the component.
LISTING 10- 8: Importing multiple styles
import {warningStyle,infoStyle,successStyle} from './messageStyles.js';
function DisplayStatus(props){
let messageStyle;
switch(props.message.type){
case 'warning':
messageStyle = 'warningStyle';
break;
case 'info':
messageStyle = 'infoStyle';
break;
case 'success':
messageStyle = "successStyle";
break;
default:
messageStyle = "infoStyle";
break;
}
return (
<p style={messageStyle}>{props.message.text}</p>
);
}
export default DisplayStatus;
CSS MODULES
CSS Modules give you some of the benefits of using JavaScript style objects while using standard CSS
stylesheets. Specifically, CSS Modules solve the problem of name conflicts and scoping in CSS.
CSS Modules ❘ 251
CSS modules can be written like normal CSS files, and then imported into your components as if they
were JavaScript. In fact, what happens during the compilation of your components is that CSS mod-
ules are converted into JavaScript objects. This gives CSS modules some special powers, which we’ll
talk about in a moment. Listing 10-9 shows a basic CSS module.
LISTING 10- 9: A CSS Module
/* my- component.module.css */
.bigText {
font- size: 4em;
}
.redText {
color: #FF0000;
}
To import the preceding CSS module into a component, make sure to save the file with .module.css
at the end and use the following import statement:
import styles from './my- component.module.css';
When your component is compiled, the classes in the CSS module will be rewritten using a format
called ICSS, which stands for Interoperable CSS.
You can then access the imported styles using dot notation and pass them into the className attrib-
ute, as shown in Listing 10-10.
LISTING 10- 10: Using a CSS Module
import styles from './my- component.module.css';
function DisplayMessage(props) {
return (<p className = {styles.redText}>This text is red.</p>);
}
export default DisplayMessage;
CSS Modules isn’t specific to React. It’s a separate specification, which can be used with any front-
end library. However, support for it is built into Create React App, so to use it in your React applica-
tions built using Create React App, you don’t need to do anything special to start using it.
Naming CSS Module Files
Although CSS module files resemble ordinary CSS files, when you use them inside of Create React
App, their filenames must end with .module.css to indicate to the compiler that they need to be
processed as CSS modules.
252 ❘ CHAPTER 10 Styling React
The standard naming convention for CSS module files is to lowercase and hyphenate the component
name that the module will be used in, and then follow that with .module.css.
So, if your React component is named NavBar, the CSS module file for the NavBar component would
be named nav- bar.module.css. You can import the styles contained in the CSS module file using
any name you want, but it’s normal to import them as an object named styles, like this:
import styles from './nav- bar.module.css';
Because each component can import its own styles object, you can write the CSS for any compo-
nent without having to worry that a class name you use for one component’s styles will interfere with
a style having the same name in another component.
The styles inside a CSS module file should use camelCase so that when you use them inside your JSX,
you can access them using dot notation.
Advanced CSS Modules Functionality
CSS module files can be just plain CSS, but they also have some additional capabilities that can make
them more powerful than plain old CSS.
Global Classes
By default, the rules you create in CSS module files are scoped locally to the component you import
the styles into. If you want to create a global rule, you can do so by prefixing the name of the class
with :global, like this:
:global .header1 {
font- size: 2rem;
font- weight: bold;
}
In this example, the header1 class will be available to all of your components.
Class Composition
Class composition lets you create new classes in CSS modules by extending existing ones. For exam-
ple, you might have a class named bodyText that determines how standard text in your component
should display. With class composition, different types of text can extend the base bodyText class to
create variations. Class composition in CSS modules uses a special property called composes, which
takes as its value any number of classes that should be used as the starting point for the current class.
Listing 10-11 shows an example of using class composition to create a firstParagraph class based
on bodyText.
LISTING 10- 11: Using class composition
.bodyText {
font- size: 12px;
font- family: Georgia serif;
color: #333;
CSS-i n-J S and Styled Components ❘ 253
text- indent: 25px;
}
.firstParagraph {
composes: bodyText;
text- indent: 0px;
}
You can also import styles from other stylesheets to use as the base class for a new style, as shown in
Listing 10-12.
LISTING 10- 12: Basing a new class on an external style
.checkoutButton {
composes: button from './buttons';
background- color: #4CAF50;
font- size: 32px;
}
CSS- IN- JS AND STYLED COMPONENTS
CSS- in- JS refers to a pattern of composing styles using JavaScript. Several third- party libraries exist
for implementing CSS- in- JS. Perhaps the most popular and commonly used is Styled Components.
Because Styled Components is a separate library, which is not installed by Create React App by
default, the first step in using it is to install it:
npm install - - save styled- components
Once installed, you can include the styled- components package into any component where you
want to use it.
Styled Components uses tagged template literals to let you write new components using CSS. See the
“JavaScript Lesson: Tagged Template Literals” sidebar in this chapter to learn more about this rela-
tively new feature of JavaScript.
Styled Components creates a styled component that you can wrap around the elements you want
to style. The result is that your JSX code is free from style objects, class names, and style attributes,
because all the styling is done with reusable styled elements. Styled Components is a declarative way
of styling React components, as we say.
Listing 10-13 shows a simple example of using Styled Components to create a component called
Heading that applies styles to its contents.
LISTING 10- 13: Using Styled Components
import styled from 'styled- components';
const Heading = styled.h1`
continues
254 ❘ CHAPTER 10 Styling React
LISTING 10-13 (continued)
width: 50%;
margin: 0 auto;
font- size: 2.2em;
color: #333300;`
const ExampleComponent = ()=>{
return(
<Heading>Example Heading</Heading>
);
}
export default ExampleComponent;
Styled Components can be defined in separate files just like other components and then imported
into multiple files, they can be nested to create more complex components through composition, and
because they’re JavaScript, they can be scripted.
JAVASCRIPT LESSON: TAGGED TEMPLATE LITERALS
Tagged template literals are a more advanced form of template literals, so I’ll start by
reviewing template literals.
Template literals use the backtick character (`) to turn a JavaScript string into a tem-
plate. A string surrounded by backticks can include JavaScript expressions by sur-
rounding the expression with ${}. For example, if you want to dynamically generate
a message to display after someone has placed an order on your website, you could
use something like the following:
const thankYouMessage = `Thank you, ${customer.name}, for your
order.`;
Prior to template literals, the preceding code had to be written like this:
const thankYouMessage = "Thank you, " + customer.name + " for
your order.";
Tagged template literals let you parse a string with a function. The tag function
takes a template literal as its argument, and returns a new string. For example, if you
have a function that reverses the letters in a string, you could use it as a tag func-
tion, like this:
reverseString`Bet you can't read this.`;
Because the tag function only takes one argument, the parentheses around the argu-
ment are optional and are usually omitted when using tagged templates.
Summary ❘ 255
If you include variables in the string that you pass into a tag template, those vari-
ables are passed to the function as arguments. In the following example, the tag
function receives a sentence with a price variable that’s used to display a custom-
ized message:
let orderTotal = 42;
function determineShipping(strings, price) {
let str0 = strings[0]; // "Your order "
let str1 = strings[1]; // " for free shipping."
let qualifyStr;
if (price > 50){
qualifyStr = 'qualifies';
} else {
qualifyStr = 'does not qualify';
}
return `${str0}${qualifyStr}${str1}`;
}
let output = determineShipping`Your order ${orderTotal} for
free shipping.`;
console.log(output);
// Your order does not qualify for free shipping.
SUMMARY
Because React doesn’t give developers many rules about exactly how to structure user interfaces,
you’re free to mix and match solutions and patterns and find out what works best. Nowhere is
this more apparent than in the multiple approaches to styling components that have been devised
for React.
In this chapter, you learned:
➤➤ How to import CSS into components.
➤➤ How to use inline styles.
➤➤ How to import and use JavaScript style modules.
➤➤ How to write and use CSS Modules.
➤➤ About CSS- in- JS.
In the next chapter, you’ll learn how to use hooks to give function components most of the same
functionality as class components.
